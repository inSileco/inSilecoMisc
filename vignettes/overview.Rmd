---
title: "inSilecoMisc, an overview"
author: "inSileco group"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{An overview of letiRmisc package}
  %\VignetteEngine{knitr::rmarkdown}
---



```{r echo=FALSE, message = FALSE}
knitr::opts_chunk$set(
  comment = "R>> ",
  collapse = TRUE
)
library(inSilecoMisc)
```

This vignette is an overview of *inSilecoMisc* organized around four major themes:

1. strings manipulations
2. vector manipulations
3. data frames manipulations
4. Bibliography operations



# String manipulations

## LoremIpsum

```{r loremIpsum}
loremIpsum()
loremIpsum(10)
```

## Keep a selection of words

```{r keepWords}
  lor <- loremIpsum()
  keepWords(lor, c(1,4))
```

## Size of a string

```{r strLength}
  lor <- loremIpsum()
  strLength(lor)
  nchar(lor)
  strLength(lor, ignore = "q")
```



## Adjust the size of a character string

```{r adjustString}
  paste0('myfilename', adjustString(c(1:2,10,100), 3))
```

## Assign a symbol to a p-value

```{r signifSymbols}
  sapply(c(.2, .08, .04, .008, 0.0001), signifSymbols)
```

## Add URL and icons

```{r addURL}
addURL("https://github.com/inSileco/letiRmisc", "Github repo")
addURL("https://github.com/inSileco/letiRmisc", "Github repo", markdown=TRUE)
```

```{r addWebIcon}
addWebIcon('cc')
addWebIcon('acm', 'ai', 4)
```

## applyString

```{r applyString}
applyString("cool", FUN = toupper, pos = 1:2)
applyString(c("cool", "pro"),  pattern = "o", FUN = toupper)
```

## Extract digits from strings

```{r getDigits}
getDigits(c("a1", "032hdje2832"))
```




# Vectors manipulations


## whichIs

```{r whichIs}
vec <- LETTERS[1:7]
spl <- sample(vec)
whichIs(vec, spl)
id <- unlist(whichIs(vec, spl))
spl[id]
```

## meanAlong

```{r meanAlong}
meanAlong(1:10, 2)
```

## scaleWithin

```{r scaleWithin}
val <- runif(1000, 0, 100)
res1 <- scaleWithin(val, 20, 40, 60)
```







# Data frame manipulation


## Assign a category

```{r categorize}
  (seqv <- stats::runif(40))
  categorize(seqv, categ=seq(0.1,0.9, 0.1))
```


## Turn a matrix or a data frame into a squared matrix

```{r squaretize}
  mat <- matrix(1:15, 3, 5, dimnames=list(LETTERS[3:1], LETTERS[1:5]))
  print(mat)
  squaretize(mat, reorder=FALSE)
```


## Assign classes to data frames' columns

```{r setColClass}
  df1 <- matrix(signif(runif(20),4), ncol=2)
  df2 <- setColClass(df1, 2, 'character')
  str(df1)
  str(df2)
```



# Bibliography operations

## Find reference and extract bibliography

```{r}
findRef(text='First \\cite{Pimm2000}, second \\Citep{May1972}')
```

```{r}
findRef(text='First @Pimm2000, second @May1972, third [@May1972]', markdown=TRUE)
```


```{r extractBiblio}
file.name <- system.file('Bib', 'RJC.bib', package='RefManageR')
bib <- RefManageR::ReadBib(file.name)
txt <- 'First \\cite{kim1995estimating}, second \\Citep{fu2006statistical}'
tfile <- tempfile(fileext = '.bib')
out <- substrBib(bib, txt)
(out)
```


## packagesUsed

```{r packagesUse}
packagesUsed(c('utils', 'methods'))
```
